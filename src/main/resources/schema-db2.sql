-- ROOT.APP_ROLES definition

CREATE TABLE "APP_ROLES"  (
		  "ID" BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (
		    START WITH +1
		    INCREMENT BY +1
		    MINVALUE +1
		    MAXVALUE +9223372036854775807
		    NO CYCLE
		    CACHE 20
		    NO ORDER ) ,
		  "DESCRIPTION" VARCHAR(255 OCTETS) ,
		  "ROLE_NAME" VARCHAR(255 OCTETS) )
		 IN "USERSPACE1"
		 ORGANIZE BY ROW  ;

CREATE UNIQUE INDEX "UK_1W96YVJP99EV5BIPOVAJY1OEA" ON "APP_ROLES"
		("ROLE_NAME" ASC)

		COMPRESS NO
		INCLUDE NULL KEYS ALLOW REVERSE SCANS ;
ALTER TABLE "APP_ROLES"
	ADD PRIMARY KEY
		("ID")
	ENFORCED ;
ALTER TABLE "APP_ROLES" ALTER COLUMN "ID" RESTART WITH 21 ;


-- ROOT.APP_USER definition

CREATE TABLE "APP_USER"  (
		  "ID" BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (
		    START WITH +1
		    INCREMENT BY +1
		    MINVALUE +1
		    MAXVALUE +9223372036854775807
		    NO CYCLE
		    CACHE 20
		    NO ORDER ) ,
		  "CREATED_AT" TIMESTAMP ,
		  "LAST_MODIFIED" TIMESTAMP ,
		  "CONTACT" VARCHAR(255 OCTETS) ,
		  "FIRST_NAME" VARCHAR(255 OCTETS) ,
		  "LAST_NAME" VARCHAR(255 OCTETS) ,
		  "PASSWORD" VARCHAR(255 OCTETS) ,
		  "USERNAME" VARCHAR(255 OCTETS) )
		 IN "USERSPACE1"
		 ORGANIZE BY ROW  ;

CREATE UNIQUE INDEX "UK_C0E5XARA2NVU3FGDQUVX9RT4M" ON "APP_USER"
		("CONTACT" ASC)

		COMPRESS NO
		INCLUDE NULL KEYS ALLOW REVERSE SCANS ;

CREATE UNIQUE INDEX "UK_3K4CPLVH82SRUEUTTFKWNYLQ0" ON "APP_USER"
		("USERNAME" ASC)

		COMPRESS NO
		INCLUDE NULL KEYS ALLOW REVERSE SCANS ;
ALTER TABLE "APP_USER"
	ADD PRIMARY KEY
		("ID")
	ENFORCED ;
ALTER TABLE "APP_USER" ALTER COLUMN "ID" RESTART WITH 21 ;


-- ROOT.ORDERS definition

CREATE TABLE "ORDERS"  (
		  "ID" BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (
		    START WITH +1
		    INCREMENT BY +1
		    MINVALUE +1
		    MAXVALUE +9223372036854775807
		    NO CYCLE
		    CACHE 20
		    NO ORDER ) ,
		  "CREATED_AT" TIMESTAMP ,
		  "LAST_MODIFIED" TIMESTAMP ,
		  "DATE" TIMESTAMP ,
		  "DESCRIPTION" VARCHAR(255 OCTETS) ,
		  "EXTERNAL_ACCOUNT_NUMBER" VARCHAR(255 OCTETS) ,
		  "INTERNAL_ACCOUNT_NUMBER" VARCHAR(255 OCTETS) ,
		  "STATUS" VARCHAR(255 OCTETS) )
		 IN "USERSPACE1"
		 ORGANIZE BY ROW  ;
ALTER TABLE "ORDERS"
	ADD PRIMARY KEY
		("ID")
	ENFORCED ;
ALTER TABLE "ORDERS" ALTER COLUMN "ID" RESTART WITH 21 ;

-- ROOT.PRODUCT definition

CREATE TABLE "PRODUCT"  (
		  "ID" BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (
		    START WITH +1
		    INCREMENT BY +1
		    MINVALUE +1
		    MAXVALUE +9223372036854775807
		    NO CYCLE
		    CACHE 20
		    NO ORDER ) ,
		  "CREATED_AT" TIMESTAMP ,
		  "LAST_MODIFIED" TIMESTAMP ,
		  "CODE" VARCHAR(16 OCTETS) ,
		  "NAME" VARCHAR(255 OCTETS) ,
		  "TOTAL_COST" DOUBLE ,
		  "TYPE" VARCHAR(255 OCTETS) )
		 IN "USERSPACE1"
		 ORGANIZE BY ROW  ;

CREATE UNIQUE INDEX "UK_H3W5R1MX6D0E5C6UM32DGYJEJ" ON "PRODUCT"
		("CODE" ASC)

		COMPRESS NO
		INCLUDE NULL KEYS ALLOW REVERSE SCANS ;

CREATE UNIQUE INDEX "UK_JMIVYXK9RMGYSRMSQW15LQR5B" ON "PRODUCT"
		("NAME" ASC)

		COMPRESS NO
		INCLUDE NULL KEYS ALLOW REVERSE SCANS ;
ALTER TABLE "PRODUCT"
	ADD PRIMARY KEY
		("ID")
	ENFORCED ;
ALTER TABLE "PRODUCT" ALTER COLUMN "ID" RESTART WITH 21 ;

-- ROOT.REFRESH_TOKEN definition

CREATE TABLE "REFRESH_TOKEN"  (
		  "ID" BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (
		    START WITH +1
		    INCREMENT BY +1
		    MINVALUE +1
		    MAXVALUE +9223372036854775807
		    NO CYCLE
		    CACHE 20
		    NO ORDER ) ,
		  "CREATED_AT" TIMESTAMP ,
		  "LAST_MODIFIED" TIMESTAMP ,
		  "TOKEN" VARCHAR(255 OCTETS) )
		 IN "USERSPACE1"
		 ORGANIZE BY ROW  ;
ALTER TABLE "REFRESH_TOKEN"
	ADD PRIMARY KEY
		("ID")
	ENFORCED ;


-- ROOT.ORDER_DETAIL definition

CREATE TABLE "ORDER_DETAIL"  (
		  "ID" BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (
		    START WITH +1
		    INCREMENT BY +1
		    MINVALUE +1
		    MAXVALUE +9223372036854775807
		    NO CYCLE
		    CACHE 20
		    NO ORDER ) ,
		  "CREATED_AT" TIMESTAMP ,
		  "LAST_MODIFIED" TIMESTAMP ,
		  "DISCOUNT" DOUBLE ,
		  "PRICE" DOUBLE ,
		  "QUANTITY" INTEGER ,
		  "PRODUCT_ID" BIGINT ,
		  "ORDER_ID" BIGINT )
		 IN "USERSPACE1"
		 ORGANIZE BY ROW  ;
ALTER TABLE "ORDER_DETAIL"
	ADD PRIMARY KEY
		("ID")
	ENFORCED ;
ALTER TABLE "ORDER_DETAIL" ALTER COLUMN "ID" RESTART WITH 21 ;

ALTER TABLE "ORDER_DETAIL"
	ADD CONSTRAINT "FKB8BG2BKTY0OKSA3WIQ5MP5QNC" FOREIGN KEY
		("PRODUCT_ID")
	REFERENCES "PRODUCT"
		("ID")
	ON DELETE NO ACTION
	ON UPDATE NO ACTION
	ENFORCED
	ENABLE QUERY OPTIMIZATION ;

ALTER TABLE "ORDER_DETAIL"
	ADD CONSTRAINT "FKRWS2Q0SI6OYD6IL8GQE2AENNC" FOREIGN KEY
		("ORDER_ID")
	REFERENCES "ORDERS"
		("ID")
	ON DELETE NO ACTION
	ON UPDATE NO ACTION
	ENFORCED
	ENABLE QUERY OPTIMIZATION ;


-- ROOT.USER_ROLES definition

CREATE TABLE "USER_ROLES"  (
		  "USER_ID" BIGINT NOT NULL ,
		  "ROLE_ID" BIGINT NOT NULL )
		 IN "USERSPACE1"
		 ORGANIZE BY ROW  ;
ALTER TABLE "USER_ROLES"
	ADD PRIMARY KEY
		("USER_ID",
		 "ROLE_ID")
	ENFORCED ;

ALTER TABLE "USER_ROLES"
	ADD CONSTRAINT "FK6FQL8DJP64YP4Q9B3QEYHR82B" FOREIGN KEY
		("USER_ID")
	REFERENCES "APP_USER"
		("ID")
	ON DELETE NO ACTION
	ON UPDATE NO ACTION
	ENFORCED
	ENABLE QUERY OPTIMIZATION ;

ALTER TABLE "USER_ROLES"
	ADD CONSTRAINT "FKIHG20VYGK8QB8LW0S573LQSMQ" FOREIGN KEY
		("ROLE_ID")
	REFERENCES "APP_ROLES"
		("ID")
	ON DELETE NO ACTION
	ON UPDATE NO ACTION
	ENFORCED
	ENABLE QUERY OPTIMIZATION ;